(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[2],{106:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(19),s=n.n(a),o=n(10),u=n(17),i=n(48),b=n(6),l=n(47),j=n(51),O=n.n(j),d=n(1),f=function(e){var t=e.children;return Object(d.jsx)("div",{className:O.a.container,children:t})},h=n(108),p=n(24),g=n.n(p),v=n.p+"static/media/logo.2e1249bc.png",x="/goit-react-hw-08-phonebook",_="/contacts",m="/register",N="/login",k=n(20),L=n.n(k),y=n(11);var C=function(){var e=Object(o.d)(y.c.getIsAuthenticated);return Object(d.jsxs)("ul",{className:L.a.NavList,children:[Object(d.jsx)("li",{className:L.a.List,children:Object(d.jsx)(u.b,{to:x,className:L.a.NavLink,activeClassName:L.a.NavLink__active,children:"Home"})}),Object(d.jsx)("li",{className:L.a.List,children:e&&Object(d.jsx)(u.b,{to:_,className:L.a.NavLink,activeClassName:L.a.NavLink__active,children:"Phonebook"})})]})},S=n(21),A=n.n(S),E=function(){return Object(d.jsxs)("ul",{className:A.a.NavList,children:[Object(d.jsx)("li",{className:A.a.List,children:Object(d.jsx)(u.b,{to:N,className:A.a.NavLink,activeClassName:A.a.NavLink__active,children:"LogIn"})}),Object(d.jsx)("li",{className:A.a.List,children:Object(d.jsx)(u.b,{to:m,className:A.a.NavLink,activeClassName:A.a.NavLink__active,children:"Register"})})]})},U=n.p+"static/media/login.690b5bda.png",w=n(31),I=n.n(w),z=Object(o.b)((function(e){return{avatar:U,name:y.c.getUsername(e)}}),(function(e){return{onLogout:function(){return e(y.a.logOut())}}}))((function(e){var t=e.avatar,n=e.name,r=e.onLogout;return Object(d.jsxs)("div",{className:I.a.UserMenu,children:[Object(d.jsx)("img",{src:t,alt:"",width:"32"}),Object(d.jsxs)("span",{className:I.a.UserName,children:["Welcome, ",n]}),Object(d.jsx)("button",{type:"button",onClick:r,className:I.a.button,children:"Logout"})]})}));function B(){var e=Object(o.d)(y.c.getIsAuthenticated);return Object(d.jsx)(h.a,{in:!0,appear:!0,timeout:250,classNames:g.a,unmountOnExit:!0,children:Object(d.jsxs)("header",{className:g.a.AppBar,children:[Object(d.jsx)("div",{className:g.a.Logo,children:Object(d.jsx)("img",{src:v,alt:"logo",width:"60"})}),Object(d.jsxs)("div",{className:g.a.Navigation,children:[Object(d.jsx)(C,{}),Object(d.jsx)("div",{className:g.a.BarMenu,children:e?Object(d.jsx)(z,{}):Object(d.jsx)(E,{})})]})]})})}var R=n(52),q=n.n(R),M=function(e){var t=e.children;return Object(d.jsxs)("div",{className:q.a.Layout,children:[Object(d.jsx)(B,{}),Object(d.jsxs)(f,{children:[" ",t," "]})]})},T=n(23),F=n(27),K=["redirectTo","children"];var G=function(e){var t=e.redirectTo,n=e.children,r=Object(F.a)(e,K),c=Object(o.d)(y.c.getIsAuthenticated);return Object(d.jsx)(b.b,Object(T.a)(Object(T.a)({},r),{},{children:c?n:Object(d.jsx)(b.a,{to:t})}))},P=["redirectTo","children"];var V=function(e){var t=e.redirectTo,n=e.children,r=Object(F.a)(e,P),c=Object(o.d)(y.c.getIsAuthenticated);return Object(d.jsx)(b.b,Object(T.a)(Object(T.a)({},r),{},{children:c&&r.restricted?Object(d.jsx)(b.a,{to:t}):n}))},W=Object(r.lazy)((function(){return n.e(0).then(n.bind(null,117))})),D=Object(r.lazy)((function(){return n.e(3).then(n.bind(null,120))})),J=Object(r.lazy)((function(){return n.e(1).then(n.bind(null,118))})),Y=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,119))}));function H(){var e=Object(o.c)();return Object(r.useEffect)((function(){e(y.a.getCurrentUser())}),[e]),Object(d.jsx)(M,{children:Object(d.jsx)(r.Suspense,{fallback:Object(d.jsx)(l.a,{}),children:Object(d.jsxs)(b.d,{children:[Object(d.jsx)(G,{path:_,redirectTo:N,children:Object(d.jsx)(D,{})}),Object(d.jsx)(V,{path:x,exact:!0,children:Object(d.jsx)(W,{})}),Object(d.jsx)(V,{path:N,restricted:!0,redirectTo:_,children:Object(d.jsx)(J,{})}),Object(d.jsx)(V,{path:m,restricted:!0,redirectTo:_,children:Object(d.jsx)(Y,{})})]})})})}n(103);var X=n(30),Z=n(2),Q=n(53),$=n.n(Q),ee=n(18),te=n(54),ne=n.n(te),re=n(36),ce=[].concat(Object(X.a)(Object(Z.d)({serializableCheck:{ignoredActions:[ee.a,ee.f,ee.b,ee.c,ee.d,ee.e]}})),[$.a]),ae={key:"authorization",storage:ne.a,whitelist:["token"]},se=Object(Z.a)({reducer:{authorization:Object(ee.g)(ae,y.b),phoneBook:re.c},middleware:ce,devTools:!1}),oe={store:se,persistor:Object(ee.h)(se)};s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(o.a,{store:oe.store,children:Object(d.jsx)(i.a,{loading:null,persistor:oe.persistor,children:Object(d.jsx)(u.a,{children:Object(d.jsx)(H,{})})})})}),document.getElementById("root"))},11:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return L})),n.d(t,"c",(function(){return y}));var r,c,a,s,o=n(2),u={registerRequest:Object(o.b)("auth/registerRequest"),registerSuccess:Object(o.b)("auth/registerSuccess"),registerError:Object(o.b)("auth/registerError"),logInRequest:Object(o.b)("auth/logInRequest"),logInSuccess:Object(o.b)("auth/logInSuccess"),logInError:Object(o.b)("auth/logInError"),logOutRequest:Object(o.b)("auth/logOutRequest"),logOutSuccess:Object(o.b)("auth/logOutSuccess"),logOutError:Object(o.b)("auth/logOutError"),getCurrentUserRequest:Object(o.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(o.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(o.b)("auth/getCurrentUserError")},i=n(3),b=n(7),l={name:null,email:null},j=Object(o.c)(l,(r={},Object(i.a)(r,u.registerSuccess,(function(e,t){return t.payload.user})),Object(i.a)(r,u.logInSuccess,(function(e,t){return t.payload.user})),Object(i.a)(r,u.logOutSuccess,(function(e,t){return l})),Object(i.a)(r,u.getCurrentUserSuccess,(function(e,t){return t.payload})),r)),O=Object(o.c)(null,(c={},Object(i.a)(c,u.registerSuccess,(function(e,t){return t.payload.token})),Object(i.a)(c,u.logInSuccess,(function(e,t){return t.payload.token})),Object(i.a)(c,u.logOutSuccess,(function(){return null})),c)),d=function(e,t){return t.payload},f=Object(o.c)(null,(a={},Object(i.a)(a,u.registerError,d),Object(i.a)(a,u.logInError,d),Object(i.a)(a,u.logOutError,d),Object(i.a)(a,u.getCurrentUserError,d),a)),h=Object(o.c)(!1,(s={},Object(i.a)(s,u.registerSuccess,(function(){return!0})),Object(i.a)(s,u.logInSuccess,(function(){return!0})),Object(i.a)(s,u.getCurrentUserSuccess,(function(){return!0})),Object(i.a)(s,u.registerError,(function(){return!1})),Object(i.a)(s,u.logInError,(function(){return!1})),Object(i.a)(s,u.getCurrentUserError,(function(){return!1})),Object(i.a)(s,u.logOutSuccess,(function(){return!1})),s)),p=Object(b.b)({user:j,token:O,error:f,isAuthenticated:h}),g=n(14),v=n.n(g),x=n(22),_=n(15),m=n.n(_);m.a.defaults.baseURL="https://connections-api.herokuapp.com/";var N=function(e){m.a.defaults.headers.common.Authorization="Bearer ".concat(e)},k=function(){m.a.defaults.headers.common.Authorization=""},L={register:function(e){return function(){var t=Object(x.a)(v.a.mark((function t(n){var r,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(u.registerRequest()),t.prev=1,t.next=4,m.a.post("/users/signup",e);case 4:r=t.sent,c=r.data,N(c.token),n(u.registerSuccess(c)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n(u.registerError(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},logIn:function(e){return function(){var t=Object(x.a)(v.a.mark((function t(n){var r,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(u.logInRequest()),t.prev=1,t.next=4,m.a.post("/users/login",e);case 4:r=t.sent,c=r.data,N(c.token),n(u.logInSuccess(c)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n(u.logInError(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(u.logOutRequest()),e.prev=1,e.next=4,m.a.post("/users/logout");case 4:k(),t(u.logOutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(u.logOutError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(x.a)(v.a.mark((function e(t,n){var r,c,a,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),c=r.authorization.token){e.next=3;break}return e.abrupt("return");case 3:return N(c),t(u.getCurrentUserRequest()),e.prev=5,e.next=8,m.a.get("/users/current");case 8:a=e.sent,s=a.data,t(u.getCurrentUserSuccess(s)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),t(u.getCurrentUserError(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}()}},y={getIsAuthenticated:function(e){return e.authorization.isAuthenticated},getUsername:function(e){return e.authorization.user.name}}},20:function(e,t,n){e.exports={NavLink:"Navigation_NavLink__3oEd8",NavLink__active:"Navigation_NavLink__active__1Wy5a",NavList:"Navigation_NavList__9TP9c",List:"Navigation_List__1EWAG"}},21:function(e,t,n){e.exports={NavLink:"AuthorizationMenu_NavLink__dkzu2",NavLink__active:"AuthorizationMenu_NavLink__active__wzG6e",NavList:"AuthorizationMenu_NavList__3s1ze",List:"AuthorizationMenu_List__1Y44y"}},24:function(e,t,n){e.exports={AppBar:"AppBar_AppBar__3h8r1",Navigation:"AppBar_Navigation__37REa",Logo:"AppBar_Logo__2Urwy",appear:"AppBar_appear__1K9ce",appearActive:"AppBar_appearActive__3ShXK",BarMenu:"AppBar_BarMenu__o8dG4"}},31:function(e,t,n){e.exports={button:"UserMenu_button__3KtDP",UserMenu:"UserMenu_UserMenu__3VVfi",UserName:"UserMenu_UserName__13Kun"}},36:function(e,t,n){"use strict";n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return q})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return P}));var r,c,a,s=n(3),o=n(30),u=n(7),i=n(2),b=Object(i.b)("contacts/addRequest"),l=Object(i.b)("contacts/addSuccess"),j=Object(i.b)("contacts/addErorr"),O=Object(i.b)("contact/deleteRequest"),d=Object(i.b)("contact/deleteSuccess"),f=Object(i.b)("contact/deleteError"),h=Object(i.b)("filter/change"),p=Object(i.b)("contacts/fetchRequest"),g=Object(i.b)("contacts/fetchSuccess"),v=Object(i.b)("contacts/fetchError"),x=b,_=l,m=j,N=O,k=d,L=f,y=p,C=g,S=v,A=Object(i.c)([],(r={},Object(s.a)(r,_,(function(e,t){return[].concat(Object(o.a)(e),[t.payload])})),Object(s.a)(r,k,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),Object(s.a)(r,C,(function(e,t){return t.payload})),r)),E=Object(i.c)("",Object(s.a)({},h,(function(e,t){return t.payload}))),U=Object(i.c)(!1,(c={},Object(s.a)(c,x,(function(){return!0})),Object(s.a)(c,_,(function(){return!1})),Object(s.a)(c,m,(function(){return!1})),Object(s.a)(c,N,(function(){return!0})),Object(s.a)(c,k,(function(){return!1})),Object(s.a)(c,L,(function(){return!1})),Object(s.a)(c,y,(function(){return!0})),Object(s.a)(c,C,(function(){return!1})),Object(s.a)(c,S,(function(){return!1})),c)),w=Object(i.c)(null,(a={},Object(s.a)(a,m,(function(e,t){var n=t.payload;return console.log(n)})),Object(s.a)(a,L,(function(e,t){var n=t.payload;return console.log(n)})),Object(s.a)(a,S,(function(e,t){var n=t.payload;return console.log(n)})),a)),I=Object(u.b)({contacts:A,filter:E,loading:U,error:w}),z=n(29),B=function(e){return e.phoneBook.filter},R=function(e){return e.phoneBook.contacts},q={getIsLoading:function(e){return e.phoneBook.loading},getFilter:B,getAllContacts:R,getSpecifiedContacts:Object(z.a)([R,B],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))}))},M=n(14),T=n.n(M),F=n(22),K=n(15),G=n.n(K),P={addContact:function(e){return function(t){var n={name:e.name,number:e.number};t(b()),G.a.post("/contacts",n).then((function(e){var n=e.data;return t(l(n))})).catch((function(e){return t(j(e))}))}},deleteContact:function(e){return function(t){t(O()),G.a.delete("/contacts/".concat(e)).then((function(){return t(d(e))})).catch((function(e){return t(f(e))}))}},fetchContacts:function(){return function(){var e=Object(F.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(p()),e.prev=1,e.next=4,G.a.get("/contacts");case 4:n=e.sent,t(g(n.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(v(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}}},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(0);var r=n(49),c=n.n(r),a=(n(81),n(50)),s=n.n(a),o=n(1);function u(){return Object(o.jsx)("div",{className:s.a.spiner,children:Object(o.jsx)(c.a,{type:"MutatingDots",color:"#FFA500",secondaryColor:"#FFA500",width:100,height:100,timeout:300})})}},50:function(e,t,n){e.exports={spiner:"Loader_spiner__1OCti"}},51:function(e,t,n){e.exports={container:"Container_container__3eZVY"}},52:function(e,t,n){}},[[106,5,6]]]);
//# sourceMappingURL=main.a9b0fdb5.chunk.js.map